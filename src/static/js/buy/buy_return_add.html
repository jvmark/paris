<style type="text/css">
    input.input-inline{display: inline-block;}
    span b{color:red; font-size:15px;}
    .input-group{display:inline-block;margin-left:10px;}
    .input-group label{display:inline-block;margin-right:10px;}
    .input-group .num{width:50px;text-align: center;margin-left:5px;}
</style>
<div id="da-wrapper">
    <!-- 头部 -->
    <div ng-include src="'/static/js/buy/base_header.html'"></div>
    <!-- 身体 -->
    <div id="da-content">
        <!-- Container -->
        <div class="da-container clearfix">
            <div ng-include src="'/static/js/buy/base_sidebar.html'"></div>
            <!-- 右侧内容 -->
            <div id="da-content-wrap" class="clearfix">
                <div id="da-content-area">
                    <div class="row-fluid">
                      <div class="span12">
                            <div class="da-panel collapsible">
                                <div class="da-panel-header">
                                  <span class="da-panel-title">
                                        <i class="icol-text-list-bullets"></i>
                                        基本信息
                                    </span>
                                </div>
                                <div class="da-panel-inner-wrap">
                                    <div class="da-panel-content with-padding">
                                        <div class="row-fluid">
                                            <label style="display:inline-block;margin-right: 20px;">主订单号：{{orderDetail.basic_msg.main_order_id}}</label>
                                            <label style="display:inline-block;margin-right: 20px;">子订单号：{{orderDetail.basic_msg.sub_order_id}}</label>
                                            <label style="display:inline-block;margin-right: 20px;">商品名称：{{orderDetail.inventory_msg.inventory_name}}</label>
                                            <label style="display:inline-block;margin-right: 20px;">购买数量：{{orderDetail.settle_msg.quantity}}</label>
                                            <label style="display:inline-block;margin-right: 20px;">用户邮费：{{orderDetail.pay_order_msg.main_order_logistics}}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="tabs-plain" class="ui-tabs ui-widget ui-widget-content ui-corner-all">
                                    <ul class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist">
                                        <li class="ui-state-default ui-corner-top ui-tabs-active ui-state-active" role="tab" tabindex="0" aria-controls="tabs-1" aria-labelledby="ui-id-4" aria-selected="true">
                                            <a data-for="#tabs-1" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-4">按商品退款</a>
                                        </li>
                                        <li class="ui-state-default ui-corner-top" role="tab" tabindex="-1" aria-controls="tabs-2" aria-labelledby="ui-id-5" aria-selected="false">
                                            <a data-for="#tabs-2" class="ui-tabs-anchor" role="presentation" tabindex="-1" id="ui-id-5">直接退部分款</a>
                                        </li>
                                    </ul>
                                    <form class="da-form">
                                    <div id="tabs-1" aria-labelledby="ui-id-4" class="ui-tabs-panel ui-widget-content ui-corner-bottom" role="tabpanel" aria-expanded="true" aria-hidden="false" style="display: block;">
                                        <div class="da-form-inline">
                                            <div class="da-form-row">
                                                <div class="row">
                                                    <label class="da-form-label">退货数量：</label>
                                                    <div class="da-form-item">
                                                        <input  type="button" value="-" id="minus" class="input-inline" ng-click="minus()">
                                                        <input type="text" ng-keyup="keyUpPrice()" style="width:50px;text-align: center;" ng-model="quantity" class="input-inline">
                                                        <input type="button" value="+" class="input-inline" ng-click="plus()">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <label class="da-form-label">商品实付金额：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="sub_price" class="input-inline"  ng-disabled="disabledEdit" style="width:80px;margin-right:5px">元
                                                        <input type="button" class="btn input-inline" value="{{changeText}}" ng-click="changeEdit()">
                                                        <span>*此金额由退货计算器算出</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="da-form-row">
                                                <div class="row">
                                                    <label class="da-form-label">商品金额：</label>
                                                    <div class="da-form-item">
                                                        <select ng-model="price1" ng-options="pt.text for pt in priceTypes1" ng-change="feeChange1()"></select>
                                                        <div class="input-group" ng-show="price1.value===2">
                                                            <label>商家承担比例:<input type="text" ng-model="supplier_settle_refund" ng-change="changeFee(this)" class="num p1_1" value="0"> %</label>
                                                            <label>堆糖承担比例:<input type="text" ng-model="dt_apportioned_refund" class="num p1_2" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>用户承担比例<input type="text" ng-model="user_apportioned_refund" ng-change="changeFee(this)" class="num p1_3" value="0"> %</label>
                                                            <label>例如：商家堆糖各承担一半填50、50、0</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" ng-show="showYf">
                                                    <label class="da-form-label">发货邮费：</label>
                                                    <div class="da-form-item">
                                                        <select ng-model="price2" ng-options="qt.text for qt in priceTypes2" ng-change="feeChange2()"></select>
                                                        <div class="input-group" ng-show="price2.value===3">
                                                            <label>商家承担比例:<input type="text" ng-model="supplier_logistics_refund" ng-change="changeFee(this)" class="num p2_1" value="0"> %</label>
                                                            <label>堆糖承担比例:
                                                            <input type="text" class="num p2_" ng-model="dt_logistics_refund" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>用户承担比例:
                                                            <input ng-model="user_logistics_refund" type="text" class="num" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>例如：商家堆糖各承担一半填50、50、0</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <label class="da-form-label">是否有商品回寄：</label>
                                                    <div class="da-form-item">
                                                        <select ng-model="price3" ng-options="qt.text for qt in priceTypes3" ng-change="feeChange3()"></select>
                                                        <label style="display:inline-block;margin-left:10px;" ng-show="price3.value!==0&&price3.value!==1">
                                                            回寄邮费：
                                                            <input style="width:100px" type="text" ng-model="return_logistics_fee"/  ng-change="changeFee(this)"></label>
                                                        <div class="input-group" ng-show="price3.value===4">
                                                            <label>商家承担比例:
                                                                <input ng-model="supplier_apportioned_return_logistics" type="text" class="num p3_1" value="0" ng-change="changeFee(this)"> %</label>
                                                            <label>堆糖承担比例:
                                                                <input ng-model="dt_apportioned_return_logistics" type="text" class="num p3_2" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>用户承担比例:
                                                            <input ng-model="user_apportioned_return_logistics" type="text" class="num p3_3" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>例如：商家堆糖各承担一半填50、50、0</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <label class="da-form-label">免邮损耗：</label>
                                                    <div class="da-form-item">
                                                        <select ng-model="price4" ng-options="qt.text for qt in priceTypes4" ng-change="feeChange4()"></select>
                                                        <label style="display:inline-block;margin-left:10px;" ng-show="price4.value!==0">
                                                            免邮损耗：
                                                            <input style="width:100px" type="text" ng-model="logistics_loss" ng-change="changeFee(this)" />
                                                        </label>
                                                        <div class="input-group" ng-show="price4.value===3">
                                                            <label>堆糖承担比例:
                                                            <input type="text" class="num p2_" ng-model="dt_logistics_loss" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>用户承担比例:
                                                            <input ng-model="user_logistics_loss" type="text" class="num" ng-change="changeFee(this)" value="0"> %</label>
                                                            <label>例如：用户，堆糖各承担一半填50、50</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="da-form-row">
                                                <div class="row">
                                                    <h3 style="display:inline-block">计算结果</h3>
                                                    <span style="margin-right:15px;">应退用户金额：<b>{{price_user|number:2}}</b>元</span>
                                                    <span style="margin-right:15px;">退货供应商结算金额：<b>{{price_supplier|number:2}}</b>元</span>
                                                    <span>堆糖承担金额（估算）：<b>{{price_dt|number:2}}</b>元</span>
                                                </div>
                                            </div>
                                            <div class="da-form-row">
                                               <div class="row">
                                                    <label class="da-form-label">退货理由：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="reason" placeholder="必填">
                                                    </div>
                                               </div>
                                               <div class="row">
                                                    <label class="da-form-label">备注：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="remark" placeholder="选填">
                                                    </div>
                                               </div>
                                            </div>
                                            <div class="da-form-row">
                                                <input type="button" class="btn" value="创建退货单" ng-click="submitReturnOrder()">
                                            </div>
                                        </div>
                                    </div>
                                    <div id="tabs-2" aria-labelledby="ui-id-5" class="ui-tabs-panel ui-widget-content ui-corner-bottom" role="tabpanel" aria-expanded="false" aria-hidden="true" style="display: none;">
                                        <div class="da-form-inline">
                                            <div class="da-form-row">
                                               <div class="row">
                                                    <label class="da-form-label">应退用户金额：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="sp1" ng-change="check1()"placeholder="单位：元">
                                                    </div>
                                               </div>
                                               <div class="row">
                                                    <label class="da-form-label">退货供应商结算金额：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="sp2" ng-change="check2()" placeholder="单位：元">
                                                    </div>
                                               </div>
                                               <div class="row">
                                                    <label class="da-form-label">堆糖承担金额：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="sp3" ng-change="check3()"placeholder="单位：元">
                                                    </div>
                                               </div>
                                            </div>
                                            <div class="da-form-row">
                                               <div class="row">
                                                    <label class="da-form-label">退货理由：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="reason" placeholder="必填">
                                                    </div>
                                               </div>
                                               <div class="row">
                                                    <label class="da-form-label">备注：</label>
                                                    <div class="da-form-item">
                                                        <input type="text" ng-model="remark"  placeholder="选填">
                                                    </div>
                                               </div>
                                            </div>
                                             <div class="da-form-row">
                                                <input type="button" class="btn" value="创建退货单" ng-click="submitReturnOrder1()">
                                            </div>
                                        </div>
                                    </div>
                                    </form>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div>
 </div>
